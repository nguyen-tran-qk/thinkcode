<div id="live-chat" class="col-sm-3 col-md-3 col-lg-3 padding-none">
  <header class="clearfix" ng-click="active = !active; toggleChatBox()">
    <!-- <a href="#" class="chat-close">x</a> -->
    <h4>:: chatterName ::</h4>
    <span class="chat-message-counter" ng-if="unreadCount">:: unreadCount ::</span>
  </header>
  <div class="chat">
    <div class="chat-history">
      <div ng-repeat="chatMessage in messages">
        <div class="chat-message clearfix" ng-class="{'my-own-message': user.id == chatMessage.user_id}">
          <img ng-src=":: 'https://api.adorable.io/avatars/40/' + user.username + '.png' ::" alt="" width="32" height="32">
          <img ng-src=":: chatMessage.user_id | avatar ::" alt="" width="32" height="32">
          <div class="chat-message-content clearfix">
            <h5 class="text-light">:: chatMessage.name ::</h5>
            <p>:: chatMessage.message ::</p>
            <p class="chat-time">::chatMessage.datetime | fromNow ::</p>
          </div>
          <!-- end chat-message-content -->
        </div>
        <!-- end chat-message -->
        <hr ng-if="$index < (messages.length - 1)">
      </div>
      <div class="chat-message clearfix" ng-if="!messages.length && user.isLearner">Xin chào, tôi là :: teacher.username ::, giảng viên của bài học này. Tôi có thể giúp gì cho bạn?</div>
    </div>
    <!-- end chat-history -->
    <!-- <p class="chat-feedback">Your partner is typing…</p> -->
    <form>
      <fieldset>
        <input type="text" placeholder="Type a message…" autofocus ng-model="chatMes" class="col-md-12">
        <button type="submit" ng-click="sendChat()" hidden>Send</button>
      </fieldset>
    </form>
  </div>
  <!-- end chat -->
</div>
<!-- end live-chat -->
